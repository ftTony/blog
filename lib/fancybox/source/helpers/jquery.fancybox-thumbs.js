(function(t){var i=t.fancybox;i.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(i){var h;if(i.element){h=t(i.element).find("img").attr("src")}if(!h&&i.type==="image"&&i.href){h=i.href}return h}},wrap:null,list:null,width:0,init:function(i,h){var e=this,s,o=i.width,r=i.height,n=i.source;s="";for(var l=0;l<h.group.length;l++){s+='<li><a style="width:'+o+"px;height:"+r+'px;" href="javascript:jQuery.fancybox.jumpto('+l+');"></a></li>'}this.wrap=t('<div id="fancybox-thumbs"></div>').addClass(i.position).appendTo("body");this.list=t("<ul>"+s+"</ul>").appendTo(this.wrap);t.each(h.group,function(i){var s=n(h.group[i]);if(!s){return}t("<img />").load(function(){var h=this.width,s=this.height,n,l,a;if(!e.list||!h||!s){return}n=h/o;l=s/r;a=e.list.children().eq(i).find("a");if(n>=1&&l>=1){if(n>l){h=Math.floor(h/l);s=r}else{h=o;s=Math.floor(s/n)}}t(this).css({width:h,height:s,top:Math.floor(r/2-s/2),left:Math.floor(o/2-h/2)});a.width(o).height(r);t(this).hide().appendTo(a).fadeIn(300)}).attr("src",s)});this.width=this.list.children().eq(0).outerWidth(true);this.list.width(this.width*(h.group.length+1)).css("left",Math.floor(t(window).width()*.5-(h.index*this.width+this.width*.5)))},beforeLoad:function(t,i){if(i.group.length<2){i.helpers.thumbs=false;return}i.margin[t.position==="top"?0:2]+=t.height+15},afterShow:function(t,i){if(this.list){this.onUpdate(t,i)}else{this.init(t,i)}this.list.children().removeClass("active").eq(i.index).addClass("active")},onUpdate:function(i,h){if(this.list){this.list.stop(true).animate({left:Math.floor(t(window).width()*.5-(h.index*this.width+this.width*.5))},150)}},beforeClose:function(){if(this.wrap){this.wrap.remove()}this.wrap=null;this.list=null;this.width=0}}})(jQuery);